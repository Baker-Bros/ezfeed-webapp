(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{113:(e,t,s)=>{Promise.resolve().then(s.bind(s,2504))},2504:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var l=s(5155),a=s(2115),r=s(6046),o=s(1153),n=s(8659);function i(e){let{brandingSettings:t,onSettingsClick:s,onLogout:a}=e;return(0,l.jsx)("nav",{className:"fixed top-0 left-0 right-0 z-40 shadow-lg",style:{backgroundColor:t.primaryColor},children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:t.logoUrl?(0,l.jsx)("img",{src:t.logoUrl||"/placeholder.svg",alt:"School Logo",className:"h-10 w-10 rounded-lg object-cover"}):(0,l.jsx)("div",{className:"h-10 w-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-white font-bold text-sm",children:"LOGO"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-xl font-bold text-white",children:"EZ Feed"}),(0,l.jsx)("p",{className:"text-sm text-white text-opacity-80",children:"Coach Dashboard"})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("button",{onClick:s,className:"p-2 text-white hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",title:"Settings",children:(0,l.jsx)(o.A,{className:"h-6 w-6"})}),(0,l.jsx)("button",{onClick:a,className:"p-2 text-white hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",title:"Logout",children:(0,l.jsx)(n.A,{className:"h-6 w-6"})})]})]})})})}var d=s(6584);function c(){let e=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(e.current){e.current.innerHTML="";let t=document.createElement("div");t.className="p-8";let s=document.createElement("video");s.id="video",s.className="max-h-screen mx-auto aspect-video bg-black rounded-lg",s.autoplay=!0,s.playsInline=!0,s.muted=!0,t.appendChild(s);let l=document.createElement("div");l.className="w-full";let a=document.createElement("div");a.id="replay-buttons",a.className="mx-auto text-center hidden",[5,10,15,30].forEach(e=>{let t=document.createElement("button");t.className="px-3 py-2 bg-blue-600 text-white border-none rounded-md cursor-pointer text-xs font-bold transition-all duration-200 shadow-lg shadow-blue-500/30 hover:bg-blue-700 hover:-translate-y-0.5 hover:shadow-xl hover:shadow-blue-500/40 mr-2",t.innerHTML="\uD83C\uDFAC ".concat(e,"s"),t.onclick=()=>{window.webRTCManager&&window.webRTCManager.getReplayManager&&window.webRTCManager.getReplayManager().playReplay(e)},a.appendChild(t)}),l.appendChild(a);let r=document.createElement("div");r.id="replay-modal",r.className="hidden fixed inset-0 z-50 bg-black bg-opacity-80";let o=document.createElement("div");o.className="relative bg-black m-[5%] mx-auto p-5 rounded-xl w-4/5 max-w-4xl shadow-2xl";let n=document.createElement("button");n.id="close-modal",n.className="absolute top-2.5 right-4 text-gray-400 text-2xl font-bold cursor-pointer z-50 bg-black bg-opacity-70 border-none rounded-full w-8 h-8 flex items-center justify-center transition-all duration-200 hover:text-white hover:bg-red-600 hover:bg-opacity-80",n.innerHTML="&times;";let i=document.createElement("video");i.id="replay-video",i.className="w-full h-auto rounded-lg",i.muted=!0,i.playsInline=!0,o.appendChild(n),o.appendChild(i),r.appendChild(o),e.current.appendChild(t),e.current.appendChild(l),e.current.appendChild(r),setTimeout(()=>{window.dispatchEvent(new CustomEvent("videoPlayerReady"))},100)}return()=>{e.current&&(e.current.innerHTML="")}},[]),(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("div",{ref:e,className:"w-full"}),(0,l.jsx)(d.default,{src:"/instantReplayManager.js",strategy:"afterInteractive"}),(0,l.jsx)(d.default,{src:"/webRTCManager.js",strategy:"afterInteractive"}),(0,l.jsx)(d.default,{src:"/stream.js",strategy:"afterInteractive"})]})}var x=s(6743),m=s(5142);function h(e){let{isOpen:t,onClose:s,settings:r,onSettingsUpdate:o}=e,[n,i]=(0,a.useState)(r);return t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 transition-opacity",onClick:s}),(0,l.jsx)("div",{className:"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-2xl z-50 transform transition-transform",children:(0,l.jsxs)("div",{className:"flex flex-col h-full",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Settings"}),(0,l.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,l.jsx)(x.A,{className:"h-6 w-6 text-gray-500"})})]}),(0,l.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"School Logo"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"flex items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:n.logoUrl?(0,l.jsx)("img",{src:n.logoUrl||"/placeholder.svg",alt:"School Logo",className:"max-h-full max-w-full object-contain rounded"}):(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)(m.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"No logo uploaded"})]})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block",children:[(0,l.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s){let e=URL.createObjectURL(s);i(t=>({...t,logoUrl:e}))}},className:"hidden"}),(0,l.jsx)("div",{className:"cursor-pointer bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-center",children:"Upload Logo"})]}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Recommended: Square image, max 2MB"})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Brand Colors"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color"}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("input",{type:"color",value:n.primaryColor,onChange:e=>i(t=>({...t,primaryColor:e.target.value})),className:"w-12 h-12 border border-gray-300 rounded-lg cursor-pointer"}),(0,l.jsx)("input",{type:"text",value:n.primaryColor,onChange:e=>i(t=>({...t,primaryColor:e.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"#1f2937"})]}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Used for navigation bar and primary elements"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Color"}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("input",{type:"color",value:n.secondaryColor,onChange:e=>i(t=>({...t,secondaryColor:e.target.value})),className:"w-12 h-12 border border-gray-300 rounded-lg cursor-pointer"}),(0,l.jsx)("input",{type:"text",value:n.secondaryColor,onChange:e=>i(t=>({...t,secondaryColor:e.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"#3b82f6"})]}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Used for buttons and accent elements"})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Preview"}),(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,l.jsx)("div",{className:"h-16 flex items-center px-4",style:{backgroundColor:n.primaryColor},children:(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[n.logoUrl?(0,l.jsx)("img",{src:n.logoUrl||"/placeholder.svg",alt:"Logo Preview",className:"h-8 w-8 rounded object-cover"}):(0,l.jsx)("div",{className:"h-8 w-8 bg-white bg-opacity-20 rounded flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-white text-xs font-bold",children:"LOGO"})}),(0,l.jsx)("span",{className:"text-white font-semibold",children:"EZ Feed"})]})}),(0,l.jsx)("div",{className:"p-4 bg-gray-50",children:(0,l.jsx)("button",{className:"px-4 py-2 rounded-lg text-white font-medium",style:{backgroundColor:n.secondaryColor},children:"Sample Button"})})]})]})]}),(0,l.jsx)("div",{className:"border-t border-gray-200 p-6",children:(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)("button",{onClick:s,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,l.jsx)("button",{onClick:()=>{o(n),s()},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save Changes"})]})})]})})]}):null}function u(){let[e,t]=(0,a.useState)(!1),[s,o]=(0,a.useState)(!1),[n,d]=(0,a.useState)({primaryColor:"#1f2937",secondaryColor:"#3b82f6",logoUrl:""}),x=(0,r.useRouter)();return((0,a.useEffect)(()=>{sessionStorage.getItem("isAuthenticated")?t(!0):x.push("/")},[x]),e)?(0,l.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,l.jsx)(i,{brandingSettings:n,onSettingsClick:()=>o(!0),onLogout:()=>{sessionStorage.removeItem("isAuthenticated"),t(!1),x.push("/")}}),(0,l.jsx)("main",{className:"pt-16",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,l.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Live Stream"}),(0,l.jsx)(c,{})]})})})}),(0,l.jsx)(h,{isOpen:s,onClose:()=>o(!1),settings:n,onSettingsUpdate:e=>{d(e)}})]}):(0,l.jsx)("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[423,441,517,358],()=>t(113)),_N_E=e.O()}]);